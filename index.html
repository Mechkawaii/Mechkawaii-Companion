<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mechkawaii ‚Äî Fiches</title>
  <script>
    // Prevent splash "flash" on reload: apply the state *before* CSS paints
    (function(){
      try{
        if (localStorage.getItem('mechkawaii:splashDismissed') === '1') {
          document.documentElement.classList.add('splash-dismissed');
        }
      } catch (e) {}
    })();
  </script>
  <link rel="stylesheet" href="./style.css" />
</head>
<body class="page-index has-splash">
  <div class="container">
    <div class="topbar">
      <div class="brand">
        <div class="title">MECHKAWAII COMPANION</div>
        <div class="subtitle">Choisis ton mode et ton camp.</div>
      </div>

      <div class="controls">
        <div class="pill">
          <span class="small">Lang</span>
          <select id="lang" aria-label="Language">
            <option value="fr">FR</option>
            <option value="en">EN</option>
          </select>
        </div>
      </div>
    </div>

    
    <div id="setupCard" class="card" style="margin-top:16px; display:none;">
      <div class="card-h">
        <div class="section-title" style="margin:0;">Configuration de la partie</div>        
      </div>
      <div class="card-b">
        <div class="rule" style="margin-top:0;">
          <h3>1) Combien d'appareil ?</h3>
          <p class="text">Si un seul appareil sert √† tout le monde, tu verras tous les persos. Sinon, chaque joueur choisit son camp.</p>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
            <button id="modeSingle" class="btn-accent">Un seul appareil pour la table</button>
            <button id="modeMulti">Chaque joueur √† son appareil</button>
          </div>
        </div>

        <div id="campPick" class="rule" style="display:none;">
          <h3>2) Choisis ton camp</h3>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
            <button id="campMech" class="btn-accent">Mechkawaii</button>
            <button id="campProd">Prodrome</button>
          </div>
          <div class="footer-note">Tu pourras changer plus tard via ‚ÄúChanger Mode‚Äù.</div>
        </div>
        <div id="difficultyPick" class="rule" style="display:none;">
          <h3>3) Choisis la difficult√©</h3>
          <p class="text">
            <strong>Mode Normal :</strong> Patterns de d√©placement et d'attaque standard.<br>
            <strong>Mode Expert :</strong> Patterns avanc√©s pour plus de challenge.
          </p>
          <div style="margin-top:10px; display:flex; gap:10px; flex-wrap:wrap;">
            <button id="diffNormal" class="btn-accent">‚≠ê Normal</button>
            <button id="diffExpert">üíÄ Expert</button>
          </div>
        </div>

        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
          <button id="resetSetupBtn" class="btn-danger">Tout r√©initialiser</button>
        </div>
      </div>
    </div>

    <div id="draftCard" class="card" style="margin-top:16px; display:none;">
      <div class="card-h">
        <div class="section-title" style="margin:0;">S√©lection des unit√©s</div>
        <div class="small">Choisis les unit√©s jou√©s</div>
      </div>
      <div class="card-b">
        <p class="text" style="margin-top:0;">S√©lectionne uniquement les unit√©s r√©ellement jou√©es. Les autres ne s‚Äôafficheront pas.</p>
        <div id="draftList" class="toggles" style="margin-top:12px;"></div>
        <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
          <button id="confirmDraft" class="btn-accent">Valider les 3 unit√©s</button>
          <button id="skipDraft">Afficher tout (pour l‚Äôinstant)</button>
        </div>
        <div id="draftError" class="footer-note" style="color: var(--danger);"></div>
      </div>
    </div>

    <div class="controls" style="margin-top:16px; display:flex; justify-content:flex-end;">
      <button id="backToSplash">√âcran titre</button>
      <button id="changeSetupBtn">Changer mode</button>
      <button id="changeDraftBtn">Changer unit√©s</button>
    </div>

  
  
  <div id="splash" class="splash splash-overlay">
    <div class="hero">
      <img src="./assets/cover.png" alt="Mechkawaii cover" class="hero-bg" />
      <div class="overlay"></div>

      <div class="hero-ui">
        <div class="brand-stack">
          <img src="./assets/heart.png" alt="" class="mascot" />
          <img src="./assets/logo.png" alt="Mechkawaii Companion" class="logo" />
        </div>

        <div class="menu">
          <button id="playBtn" class="mkw-btn">
            <img src="./assets/ui/btn_play.svg" alt="" aria-hidden="true">
            <span class="mkw-label">JOUER</span>
          </button>

          <a class="mkw-link" href="https://mechkawaii.com" target="_blank" rel="noopener">
            <div class="mkw-btn">
              <img src="./assets/ui/btn_play.svg" alt="" aria-hidden="true">
              <span class="mkw-label">SITE</span>
            </div>
          </a>

          <a class="mkw-link" href="https://instagram.com/mechkawaii" target="_blank" rel="noopener">
            <div class="mkw-btn">
              <img src="./assets/ui/btn_play.svg" alt="" aria-hidden="true">
              <span class="mkw-label">INSTAGRAM</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>


  </div>

    <div id="charList" class="list" aria-live="polite"></div>

    <div id="error" class="footer-note" style="color: var(--danger);"></div>
  </div>

  <!-- BARRE DE TABS DES UNIT√âS (fix√©e en bas) -->
  <div class="unit-tabs-container" id="unitTabsContainer">
    <div class="unit-tabs" id="unitTabs"></div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
